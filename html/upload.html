<!DOCTYPE html>
<html lang="en">
  <head>
    <title>
      jQuery Changing background-image CSS Property
    </title>

    <script>
      window.addEventListener("load", function () {
        document
          .querySelector('input[type="file"]')
          .addEventListener("change", function () {
            if (this.files && this.files[0]) {
              var img = document.querySelector("img"); // $('img')[0]
              img.src = URL.createObjectURL(this.files[0]); // set src to blob url
              img.onload = imageIsLoaded;
            }
          });
      });

      function imageIsLoaded() {
        alert(this.src); // blob url
        // update width and height ...
      }
    </script>
  </head>

  <body>
    <div
      id="box"
      style="width: 200px; height: 200px; border: black 1px solid;"
    ></div>
    <button onclick="box()">color</button>
    <div>
      <label for="files" class="upload">Upload Photo</label>
      <input
        id="files"
        style="visibility: hidden; display: none;"
        type="file"
        onchange="loadFile(event)"
        accept="image/*"
        name="image"
      />
    </div>
    <script>
      // function box() {
      //   // var image = document.getElementById("box");
      //   var image1 = "/image/229af48bc7939cafe0c1bf4e37c269ff.jpg";
      //   // var image2 = URL.createObjectURL(event.target.files[0]);

      //   document.getElementById("box").style.backgroundImage =
      //     "url('" + image1 + "')";
      // }

      var loadFile = function (event) {
        var image = document.getElementById("box");
        image.style.backgroundImage =
          "url('" + URL.createObjectURL(event.target.files[0]);
        +"')";
      };
    </script>
  </body>
</html>
