<!DOCTYPE html>
<html lang="en">
  <head>
    <title>
      jQuery Changing background-image CSS Property
    </title>

    <script>
      window.addEventListener("load", function () {
        document
          .querySelector('input[type="file"]')
          .addEventListener("change", function () {
            if (this.files && this.files[0]) {
              var img = document.querySelector("img"); // $('img')[0]
              img.src = URL.createObjectURL(this.files[0]); // set src to blob url
              img.onload = imageIsLoaded;
            }
          });
      });

      function imageIsLoaded() {
        alert(this.src); // blob url
        // update width and height ...
      }
    </script>
  </head>

  <body>
    <input type="file" />
    <br /><img id="myImg" src="#" alt="your image" height="200" width="100" />

    <script>
      window.addEventListener("load", function () {
        document
          .querySelector('input[type="file"]')
          .addEventListener("change", function () {
            if (this.files && this.files[0]) {
              var img = document.querySelector("img"); // $('img')[0]
              img.src = URL.createObjectURL(this.files[0]); // set src to blob url
              img.onload = imageIsLoaded;
            }
          });
      });

      function imageIsLoaded() {
        alert(this.src); // blob url
        // update width and height ...
      }
    </script>
  </body>
</html>
